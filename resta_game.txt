<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <title>Î Î±Î¹Ï‡Î½Î¯Î´Î¹: Î¤Î± Î¡Î­ÏƒÏ„Î± ÏƒÏ„Î·Î½ Î¤Î±Î¼Î¯Î±</title>
    <style>
        body { font-family: 'Comic Sans MS', cursive, sans-serif; background-color: #fdf2e9; text-align: center; margin: 0; padding: 10px; }
        .container { max-width: 950px; margin: auto; border: 5px solid #e67e22; border-radius: 25px; background: white; padding: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        
        /* Î•Ï€Î¯Ï€ÎµÎ´Î± */
        .levels { margin-bottom: 15px; }
        .level-btn { padding: 10px 20px; font-size: 16px; cursor: pointer; border-radius: 10px; border: 2px solid #d35400; background: #fff; margin: 0 5px; transition: 0.3s; }
        .level-btn.active { background: #e67e22; color: white; font-weight: bold; }

        /* Î¤Î±Î¼ÎµÎ¯Î¿ ÎºÎ±Î¹ Î¤Î±Î¼Î¯Î±Ï‚ */
        .header-area { display: flex; justify-content: space-around; align-items: center; margin-bottom: 20px; background: #fff3e0; padding: 15px; border-radius: 20px; }
        .cashier-img { width: 120px; height: auto; border-radius: 10px; }
        .display-screen { background: #2c3e50; color: #2ecc71; font-family: 'Courier New', monospace; font-size: 35px; padding: 15px; border-radius: 10px; border: 4px solid #7f8c8d; min-width: 180px; }
        
        .instruction { font-size: 20px; color: #2c3e50; margin: 10px 0; }

        /* Î Î¿ÏÏ„Î¿ÎºÎ±Î»Î¯ Î£Ï…ÏÏ„Î¬ÏÎ¹ Î¼Îµ Î½Î¿Î¼Î¯ÏƒÎ¼Î±Ï„Î± */
        .drawer { background: #ff9800; padding: 25px; border-radius: 20px; display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; min-height: 250px; border: 4px solid #e64a19; }
        
        .coin-item { position: relative; cursor: pointer; transition: transform 0.1s; }
        .coin-item:hover { transform: scale(1.05); }
        .coin-item img { width: 75px; height: 75px; object-fit: contain; }
        
        /* ÎšÏŒÎºÎºÎ¹Î½Î¿ ÎºÏ…ÎºÎ»Î¬ÎºÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î®Ï‚ */
        .selection-ring { 
            position: absolute; top: -5px; left: -5px; width: calc(100% + 10px); height: calc(100% + 10px); 
            border: 6px solid #ff0000; border-radius: 50%; box-sizing: border-box;
            display: none; pointer-events: none;
        }
        .selected .selection-ring { display: block; }

        /* ÎœÎ·Ï‡Î±Î½Î® ÎºÎ±Î¹ ÎšÎ¿Ï…Î¼Ï€Î¯ */
        .controls { margin-top: 20px; }
        .green-button { width: 80px; height: 80px; background-color: #27ae60; border-radius: 50%; border: none; border-bottom: 6px solid #1e8449; cursor: pointer; color: white; font-size: 20px; font-weight: bold; }
        .green-button:active { border-bottom: none; transform: translateY(4px); }

        #feedback-text { font-size: 28px; font-weight: bold; margin-top: 15px; height: 40px; }
    </style>
</head>
<body>

<div class="container">
    <div class="levels">
        <button id="btn-easy" class="level-btn active" onclick="setDifficulty('easy')">Î•ÏÎºÎ¿Î»Î¿ (ÎŸÎ»ÏŒÎºÎ»Î·ÏÎ± â‚¬)</button>
        <button id="btn-medium" class="level-btn" onclick="setDifficulty('medium')">ÎœÎµÏƒÎ±Î¯Î¿ (Î”ÎµÎºÎ¬Î´ÎµÏ‚ Î»ÎµÏ€Ï„ÏÎ½)</button>
        <button id="btn-hard" class="level-btn" onclick="setDifficulty('hard')">Î”ÏÏƒÎºÎ¿Î»Î¿ (ÎŒÎ»ÎµÏ‚ Î¿Î¹ Ï„Î¹Î¼Î­Ï‚)</button>
    </div>

    <div class="header-area">
        <img src="tameio.png" alt="Î¤Î±Î¼Î¯Î±Ï‚" class="cashier-img">
        <div>
            <div class="instruction">ÎŸ Ï€ÎµÎ»Î¬Ï„Î·Ï‚ Î­Î´Ï‰ÏƒÎµ 10â‚¬. <br> Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î´ÏÏƒÎµÎ¹Ï‚ ÏÎ­ÏƒÏ„Î±:</div>
            <div class="display-screen" id="price-display">0.00 â‚¬</div>
        </div>
        <button class="green-button" onclick="checkResta()">OK</button>
    </div>

    <div class="drawer" id="coinDrawer">
        </div>

    <div id="feedback-text"></div>
</div>

<audio id="sound-applause" src="https://www.soundjay.com/human/sounds/applause-01.mp3"></audio>

<script>
    let currentDifficulty = 'easy';
    let targetPrice = 0;
    let userSelection = 0;
    const customerPaid = 10;

    // Î Î»Î®ÏÎ·Ï‚ Î»Î¯ÏƒÏ„Î± Î¼Îµ Ï„Î± Î¿Î½ÏŒÎ¼Î±Ï„Î± Ï„Ï‰Î½ Î±ÏÏ‡ÎµÎ¯Ï‰Î½ ÏƒÎ¿Ï…
    const availableCoins = [
        { val: 5, img: 'euro5.png' },   // Î‘Î½ Î­Ï‡ÎµÎ¹Ï‚ Ï‡Î±ÏÏ„Î¿Î½ÏŒÎ¼Î¹ÏƒÎ¼Î± 5â‚¬, Î±Î»Î»Î¹ÏÏ‚ Î²Î¬Î»Ï„Î¿
        { val: 2, img: 'euro2.png' },
        { val: 1, img: 'euro1.png' },
        { val: 0.50, img: 'cents50.png' },
        { val: 0.20, img: 'cents20.png' },
        { val: 0.10, img: 'cents10.png' },
        { val: 0.05, img: 'cents5.png' },
        { val: 0.02, img: 'cents2.png' },
        { val: 0.01, img: 'cents1.png' }
    ];

    function setDifficulty(level) {
        currentDifficulty = level;
        document.querySelectorAll('.level-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + level).classList.add('active');
        newGame();
    }

    function generatePrice() {
        if (currentDifficulty === 'easy') {
            // ÎŸÎ»ÏŒÎºÎ»Î·ÏÎ± ÎµÏ…ÏÏ: 1, 2, 3... Î­Ï‰Ï‚ 9
            return Math.floor(Math.random() * 9) + 1;
        } else if (currentDifficulty === 'medium') {
            // Î”ÎµÎºÎ¬Î´ÎµÏ‚ Î»ÎµÏ€Ï„ÏÎ½: Ï€.Ï‡. 2.50, 8.10
            let euros = Math.floor(Math.random() * 9) + 1;
            let cents = (Math.floor(Math.random() * 9) + 1) * 0.1;
            return parseFloat((euros + cents).toFixed(2));
        } else {
            // Î”ÏÏƒÎºÎ¿Î»Î¿: Ï€.Ï‡. 4.67, 3.12
            return parseFloat((Math.random() * 8.99 + 1).toFixed(2));
        }
    }

    function newGame() {
        targetPrice = generatePrice();
        document.getElementById('price-display').innerText = (10 - targetPrice).toFixed(2).replace('.', ',') + " â‚¬"; 
        /* Î£Î—ÎœÎ•Î™Î©Î£Î—: Î£Ï„Î¿ Ï„Î±Î¼Ï€Î»ÏŒ Î´ÎµÎ¯Ï‡Î½Î¿Ï…Î¼Îµ Ï€ÏŒÏƒÎ± ÏÎ­ÏƒÏ„Î± Î Î¡Î•Î Î•Î™ Î½Î± Î´ÏÏƒÎµÎ¹ Î® Ï„Î·Î½ Ï„Î¹Î¼Î® Ï„Î¿Ï… Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Î¿Ï‚; 
           Î‘Î½ Î· Î¼Î·Ï‡Î±Î½Î® Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ Ï„Î·Î½ Î¤Î™ÎœÎ— Ï„Î¿Ï… Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Î¿Ï‚, Î¬Î»Î»Î±Î¾Îµ Ï„Î¿ Ï€Î±ÏÎ±Ï€Î¬Î½Ï‰ ÏƒÎµ: targetPrice.toFixed(2) */
        
        document.getElementById('price-display').innerText = targetPrice.toFixed(2).replace('.', ',') + " â‚¬";
        
        userSelection = 0;
        document.getElementById('feedback-text').innerText = "";
        renderDrawer();
    }

    function renderDrawer() {
        const drawer = document.getElementById('coinDrawer');
        drawer.innerHTML = '';
        
        // Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ¼Îµ 3-4 Î±Î½Ï„Î¯Î³ÏÎ±Ï†Î± Î³Î¹Î± ÎºÎ¬Î¸Îµ Î½ÏŒÎ¼Î¹ÏƒÎ¼Î± Î³Î¹Î± Î½Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎºÎ¬Î½ÎµÎ¹ ÏƒÏ…Î½Î´Ï…Î±ÏƒÎ¼Î¿ÏÏ‚
        availableCoins.forEach(coin => {
            for(let i=0; i < 3; i++) {
                const item = document.createElement('div');
                item.className = 'coin-item';
                item.innerHTML = `<img src="${coin.img}"><div class="selection-ring"></div>`;
                item.onclick = function() {
                    this.classList.toggle('selected');
                    if(this.classList.contains('selected')) userSelection += coin.val;
                    else userSelection -= coin.val;
                };
                drawer.appendChild(item);
            }
        });
    }

    function checkResta() {
        const neededResta = parseFloat((customerPaid - targetPrice).toFixed(2));
        const feedback = document.getElementById('feedback-text');
        
        if (Math.abs(userSelection - neededResta) < 0.005) {
            feedback.innerHTML = "ğŸ‘ Î•Ï…Ï‡Î±ÏÎ¹ÏƒÏ„Ï Ï€Î¿Î»Ï, ÏƒÏ‰ÏƒÏ„Î¬! ğŸ‘";
            feedback.style.color = "#27ae60";
            document.getElementById('sound-applause').play();
            setTimeout(newGame, 4000);
        } else {
            feedback.innerHTML = "âŒ ÎÎ±Î½Î±Î¼Î­Ï„ÏÎ·ÏƒÎµ Î»Î¯Î³Î¿ Ï„Î± ÏÎ­ÏƒÏ„Î±...";
            feedback.style.color = "#c0392b";
        }
    }

    // ÎˆÎ½Î±ÏÎ¾Î·
    newGame();
</script>

</body>
</html>