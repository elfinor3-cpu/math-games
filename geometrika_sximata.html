<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <title>Î¤Î¿ Î Î±Î¹Ï‡Î½Î¯Î´Î¹ Ï„Î·Ï‚ Î›Î¿Î³Î¹ÎºÎ®Ï‚ ÎºÎ±Î¹ Ï„Ï‰Î½ Î£Ï‡Î·Î¼Î¬Ï„Ï‰Î½ - Papanikolaou 2026</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        body { background-color: #fdf5e6; font-family: 'Segoe UI', Arial, sans-serif; text-align: center; margin: 0; overflow-x: hidden; }
        #game-container { min-height: 100vh; display: flex; flex-direction: column; align-items: center; padding: 15px; }
        
        h1 { color: #b22222; margin: 5px; font-size: 26px; }
        
        #difficulty-selector { margin: 10px; display: flex; gap: 10px; }
        .diff-btn { padding: 8px 15px; cursor: pointer; border: 2px solid #b22222; border-radius: 5px; background: gold; font-weight: bold; }
        .diff-btn.active { background: #b22222; color: white; }

        #question-box { background: white; border: 3px solid #b22222; padding: 15px; border-radius: 15px; font-size: 20px; font-weight: bold; margin: 10px; color: #333; width: 90%; max-width: 700px; min-height: 60px; display: flex; align-items: center; justify-content: center; }
        
        #stats { font-size: 18px; font-weight: bold; margin-bottom: 10px; display: flex; gap: 30px; }
        .time-warning { color: red; animation: blink 0.5s infinite; }
        @keyframes blink { 50% { opacity: 0.5; } }

        #grid { display: grid; grid-template-columns: repeat(6, 90px); gap: 12px; justify-content: center; padding: 15px; background: rgba(255,255,255,0.4); border-radius: 20px; }
        
        .shape { width: 80px; height: 80px; cursor: pointer; transition: 0.2s; display: flex; align-items: center; justify-content: center; position: relative; }
        .shape:hover { transform: scale(1.1); }
        .circle { border-radius: 50%; }
        .square { border-radius: 4px; }
        .rectangle { width: 100px; height: 60px; border-radius: 4px; }
        .triangle { 
            width: 0; height: 0; 
            border-left: 40px solid transparent; 
            border-right: 40px solid transparent; 
            border-bottom: 80px solid;
            background: none !important;
        }

        .hidden { visibility: hidden; opacity: 0; pointer-events: none; }

        #credits { margin: 20px 0; font-size: 13px; color: #b22222; line-height: 1.4; font-weight: bold; }

        .modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); align-items: center; justify-content: center; }
        .modal-content { background: white; padding: 25px; border-radius: 15px; max-width: 450px; text-align: left; border: 4px solid #b22222; }
        
        .controls { position: fixed; bottom: 15px; right: 15px; display: flex; flex-direction: column; gap: 8px; }
        button.ui-btn { padding: 10px; cursor: pointer; background: #b22222; color: white; border: 2px solid gold; border-radius: 8px; font-weight: bold; font-size: 12px; }
    </style>
</head>
<body>

<div id="game-container">
    <h1>ğŸ¨ Î¤Î¿ Î Î±Î¹Ï‡Î½Î¯Î´Î¹ Ï„Î·Ï‚ Î›Î¿Î³Î¹ÎºÎ®Ï‚</h1>
    
    <div id="difficulty-selector">
        <button class="diff-btn" id="btn-easy" onclick="setLevel('easy')">Î•ÏÎºÎ¿Î»Î¿</button>
        <button class="diff-btn active" id="btn-medium" onclick="setLevel('medium')">ÎœÎ­Ï„ÏÎ¹Î¿</button>
        <button class="diff-btn" id="btn-hard" onclick="setLevel('hard')">Î”ÏÏƒÎºÎ¿Î»Î¿</button>
    </div>

    <div id="question-box">Î•Ï„Î¿Î¹Î¼Î¬ÏƒÎ¿Ï…...</div>

    <div id="stats">
        <div>Î£Ï‰ÏƒÏ„Î¬: <span id="score">0</span> / <span id="total">0</span></div>
        <div id="timer-display">Î§ÏÏŒÎ½Î¿Ï‚: <span id="timer">40</span>s</div>
    </div>

    <div id="grid"></div>

    <div id="credits">
        In-School Teacher Training in Mathematics<br>
        4th Primary School of Nea Artaki<br>
        Papanikolaou Georgios 2026
    </div>

    <div class="controls">
        <button class="ui-btn" onclick="showModal('teacher-modal')">ğŸ‘¨â€ğŸ« Î“Î¹Î± Î•ÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÎ¿ÏÏ‚</button>
        <button class="ui-btn" onclick="showModal('info-modal')">ğŸ“œ ÎŸÎ´Î·Î³Î¯ÎµÏ‚</button>
        <button class="ui-btn" onclick="initGame()">ğŸ”„ ÎÎ­Î¿ Î Î±Î¹Ï‡Î½Î¯Î´Î¹</button>
    </div>
</div>

<div id="info-modal" class="modal" onclick="hideModals()">
    <div class="modal-content">
        <h2 style="text-align:center">ğŸ“œ ÎŸÎ´Î·Î³Î¯ÎµÏ‚</h2>
        <p>Î”Î¹Î¬Î²Î±ÏƒÎµ Ï€ÏÎ¿ÏƒÎµÎºÏ„Î¹ÎºÎ¬ Ï„Î¿Î½ Î³ÏÎ¯Ï†Î¿! <br><br>
        Î£Ï„Î¿ <b>Î•ÏÎºÎ¿Î»Î¿</b> ÎµÏ€Î¯Ï€ÎµÎ´Î¿ Î²ÏÎ¯ÏƒÎºÎµÎ¹Ï‚ Ï‡ÏÏÎ¼Î±Ï„Î± Î® ÏƒÏ‡Î®Î¼Î±Ï„Î±.<br>
        Î£Ï„Î¿ <b>ÎœÎ­Ï„ÏÎ¹Î¿</b> ÎµÏ€Î¯Ï€ÎµÎ´Î¿ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï€ÏÎ¿ÏƒÎ­Ï‡ÎµÎ¹Ï‚ Ï„Î¹ "ÎµÎ¯Î½Î±Î¹" ÎºÎ±Î¹ Ï„Î¹ "Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹" Î­Î½Î± ÏƒÏ‡Î®Î¼Î±. <br>
        Î£Ï„Î¿ <b>Î”ÏÏƒÎºÎ¿Î»Î¿</b> ÎµÏ€Î¯Ï€ÎµÎ´Î¿ Î¼ÎµÏ„ÏÎ¬Î¼Îµ ÎºÎ±Î¹ Ï„Î¹Ï‚ Î³Ï‰Î½Î¯ÎµÏ‚! (ÎšÏÎºÎ»Î¿Ï‚ = 0, Î¤ÏÎ¯Î³Ï‰Î½Î¿ = 3, Î¤ÎµÏ„ÏÎ¬Î³Ï‰Î½Î¿/ÎŸÏÎ¸Î¿Î³ÏÎ½Î¹Î¿ = 4).</p>
        <button style="width:100%; padding:10px; background:#b22222; color:white; border:none;">ÎÎµÎºÎ¹Î½Î¬Î¼Îµ!</button>
    </div>
</div>

<div id="teacher-modal" class="modal" onclick="hideModals()">
    <div class="modal-content">
        <h2 style="text-align:center">ğŸ“˜ Î Î±Î¹Î´Î±Î³Ï‰Î³Î¹ÎºÏŒ Î Î»Î±Î¯ÏƒÎ¹Î¿</h2>
        <p><b>Î•Ï€Î¯Ï€ÎµÎ´Î± Î›Î¿Î³Î¹ÎºÎ®Ï‚:</b><br>
        - <b>Î•ÏÎºÎ¿Î»Î¿:</b> ÎœÎ¿Î½ÏŒ ÎºÏÎ¹Ï„Î®ÏÎ¹Î¿ (Î£Ï‡Î®Î¼Î± Î® Î§ÏÏÎ¼Î±).<br>
        - <b>ÎœÎ­Ï„ÏÎ¹Î¿:</b> Î£ÏÎ¶ÎµÏ…Î¾Î· ÎºÎ±Î¹ Î¬ÏÎ½Î·ÏƒÎ· Î¹Î´Î¹Î¿Ï„Î®Ï„Ï‰Î½ (Ï€.Ï‡. Î‘ ÎºÎ±Î¹ ÏŒÏ‡Î¹ Î’).<br>
        - <b>Î”ÏÏƒÎºÎ¿Î»Î¿:</b> Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼ÏŒÏ‚ Î¹Î´Î¹Î¿Ï„Î®Ï„Ï‰Î½ (Î§ÏÏÎ¼Î±, Î£Ï‡Î®Î¼Î±, Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ Î“Ï‰Î½Î¹ÏÎ½).</p>
        <p><b>Î£Ï„ÏŒÏ‡Î¿Ï‚:</b> Î‘Î½Î¬Ï€Ï„Ï…Î¾Î· ÎºÏÎ¹Ï„Î¹ÎºÎ®Ï‚ Î¹ÎºÎ±Î½ÏŒÏ„Î·Ï„Î±Ï‚ ÎºÎ±Î¹ ÎºÎ±Ï„Î±Î½ÏŒÎ·ÏƒÎ· Î»Î¿Î³Î¹ÎºÏÎ½ Ï„ÎµÎ»ÎµÏƒÏ„ÏÎ½ ÏƒÏ„Î·Î½ Î‘' ÎºÎ±Î¹ Î’' Î”Î·Î¼Î¿Ï„Î¹ÎºÎ¿Ï.</p>
        <button style="width:100%; padding:10px; background:#b22222; color:white; border:none;">ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿</button>
    </div>
</div>

<script>
    const colors = [
        {n: 'ÎºÏŒÎºÎºÎ¹Î½Î±', v: '#e74c3c'}, {n: 'Î¼Ï€Î»Îµ', v: '#3498db'},
        {n: 'Ï€ÏÎ¬ÏƒÎ¹Î½Î±', v: '#2ecc71'}, {n: 'ÎºÎ¯Ï„ÏÎ¹Î½Î±', v: '#f1c40f'}
    ];
    const types = [
        {n: 'ÎºÏÎºÎ»Î¿Ï‚', np: 'ÎºÏÎºÎ»Î¿Î¹', g: 0, q: 'Î’ÏÎµÏ‚ ÏŒÎ»Î¿Ï…Ï‚ Ï„Î¿Ï…Ï‚ ÎºÏÎºÎ»Î¿Ï…Ï‚!'}, 
        {n: 'Ï„ÎµÏ„ÏÎ¬Î³Ï‰Î½Î¿', np: 'Ï„ÎµÏ„ÏÎ¬Î³Ï‰Î½Î±', g: 4, q: 'Î’ÏÎµÏ‚ ÏŒÎ»Î± Ï„Î± Ï„ÎµÏ„ÏÎ¬Î³Ï‰Î½Î±!'},
        {n: 'Ï„ÏÎ¯Î³Ï‰Î½Î¿', np: 'Ï„ÏÎ¯Î³Ï‰Î½Î±', g: 3, q: 'Î’ÏÎµÏ‚ ÏŒÎ»Î± Ï„Î± Ï„ÏÎ¯Î³Ï‰Î½Î±!'}, 
        {n: 'Î¿ÏÎ¸Î¿Î³ÏÎ½Î¹Î¿', np: 'Î¿ÏÎ¸Î¿Î³ÏÎ½Î¹Î±', g: 4, q: 'Î’ÏÎµÏ‚ ÏŒÎ»Î± Ï„Î± Î¿ÏÎ¸Î¿Î³ÏÎ½Î¹Î±!'}
    ];
    
    let currentLevel = 'medium', score = 0, totalToFind = 0, timeLeft = 40, timer;

    function setLevel(lvl) {
        currentLevel = lvl;
        document.querySelectorAll('.diff-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + lvl).classList.add('active');
        initGame();
    }

    function initGame() {
        const grid = document.getElementById('grid');
        grid.innerHTML = '';
        score = 0;
        totalToFind = 0;
        timeLeft = (currentLevel === 'hard') ? 50 : 40;
        document.getElementById('score').innerText = score;
        document.getElementById('timer-display').classList.remove('time-warning');

        const currentShapes = [];
        for (let i = 0; i < 18; i++) {
            const t = types[Math.floor(Math.random() * types.length)];
            const c = colors[Math.floor(Math.random() * colors.length)];
            currentShapes.push({type: t, color: c});
        }

        let targetFilter;
        let qText = "";
        const rColor = colors[Math.floor(Math.random() * colors.length)];
        const rType = types[Math.floor(Math.random() * types.length)];

        if (currentLevel === 'easy') {
            if (Math.random() > 0.5) {
                qText = `Î’ÏÎµÏ‚ ÏŒÎ»Î± Ï„Î± ${rColor.n} ÏƒÏ‡Î®Î¼Î±Ï„Î±!`;
                targetFilter = (s) => s.color.v === rColor.v;
            } else {
                qText = rType.q;
                targetFilter = (s) => s.type.n === rType.n;
            }
        } 
        else if (currentLevel === 'medium') {
            const isNot = Math.random() > 0.5;
            if (isNot) {
                qText = `Î•Î¯Î½Î±Î¹ ${rColor.n} ÎºÎ±Î¹ Î”Î•Î ÎµÎ¯Î½Î±Î¹ ${rType.np}!`;
                targetFilter = (s) => s.color.v === rColor.v && s.type.n !== rType.n;
            } else {
                qText = `Î•Î¯Î½Î±Î¹ ${rColor.n} ÎºÎ±Î¹ ÎµÎ¯Î½Î±Î¹ ${rType.np}!`;
                targetFilter = (s) => s.color.v === rColor.v && s.type.n === rType.n;
            }
        }
        else { // Hard
            const rAngles = [0, 3, 4][Math.floor(Math.random() * 3)];
            let angleText = rAngles === 0 ? "0" : rAngles;
            qText = `ÎˆÏ‡Î¿Ï…Î½ ${angleText} Î³Ï‰Î½Î¯ÎµÏ‚ ÎºÎ±Î¹ Î”Î•Î ÎµÎ¯Î½Î±Î¹ ${rColor.n}!`;
            targetFilter = (s) => s.type.g === rAngles && s.color.v !== rColor.v;
        }

        document.getElementById('question-box').innerText = qText;

        currentShapes.forEach(s => {
            const isTarget = targetFilter(s);
            if (isTarget) totalToFind++;

            const div = document.createElement('div');
            div.className = `shape ${s.type.n === 'ÎºÏÎºÎ»Î¿Ï‚' ? 'circle' : (s.type.n === 'Ï„ÎµÏ„ÏÎ¬Î³Ï‰Î½Î¿' ? 'square' : (s.type.n === 'Ï„ÏÎ¯Î³Ï‰Î½Î¿' ? 'triangle' : 'rectangle'))}`;
            
            if (s.type.n === 'Ï„ÏÎ¯Î³Ï‰Î½Î¿') div.style.borderBottomColor = s.color.v;
            else div.style.backgroundColor = s.color.v;

            div.onclick = function() {
                if (isTarget) {
                    div.classList.add('hidden');
                    score++;
                    document.getElementById('score').innerText = score;
                    if (score === totalToFind) {
                        clearInterval(timer);
                        confetti({particleCount: 150, spread: 70});
                        setTimeout(() => alert("Î•Î¯ÏƒÎ±Î¹ Î±ÏƒÏ„Î­ÏÎ¹ ÏƒÏ„Î· Î›Î¿Î³Î¹ÎºÎ®!"), 500);
                    }
                } else {
                    alert("Î›Î¬Î¸Î¿Ï‚! ÎÎ±Î½Î±Î´Î¹Î¬Î²Î±ÏƒÎµ Ï„Î¿Î½ Î³ÏÎ¯Ï†Î¿.");
                }
            };
            grid.appendChild(div);
        });

        if (totalToFind === 0) return initGame(); 
        document.getElementById('total').innerText = totalToFind;
        startTimer();
    }

    function startTimer() {
        clearInterval(timer);
        timer = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').innerText = timeLeft;
            if (timeLeft <= 10) document.getElementById('timer-display').classList.add('time-warning');
            if (timeLeft <= 0) {
                clearInterval(timer);
                alert("Î¤ÎµÎ»ÎµÎ¯Ï‰ÏƒÎµ Î¿ Ï‡ÏÏŒÎ½Î¿Ï‚! Î Î¬Ï„Î± ÎÎ­Î¿ Î Î±Î¹Ï‡Î½Î¯Î´Î¹.");
            }
        }, 1000);
    }

    function showModal(id) { document.getElementById(id).style.display = 'flex'; }
    function hideModals() { document.querySelectorAll('.modal').forEach(m => m.style.display = 'none'); }

    window.onload = initGame;
</script>
</body>
</html>