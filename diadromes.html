<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <title>ÎœÎ±Î¸Î·Î¼Î±Ï„Î¹ÎºÎ­Ï‚ Î”Î¹Î±Î´ÏÎ¿Î¼Î­Ï‚ - Papanikolaou 2026</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        body { background-color: #f8fafc; font-family: 'Segoe UI', sans-serif; text-align: center; margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: auto; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        
        .header-info { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; text-align: left; }
        .box { padding: 15px; border-radius: 12px; font-size: 14px; line-height: 1.4; }
        .instructions { background: #e0f2fe; border-left: 5px solid #0284c7; }
        .teacher { background: #fef3c7; border-left: 5px solid #d97706; }

        .mission-box { background: #ffffff; border: 3px dashed #cbd5e1; padding: 30px; border-radius: 20px; margin: 20px 0; display: flex; align-items: center; justify-content: center; gap: 20px; }
        .num-circle { width: 80px; height: 80px; background: #1e293b; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 28px; font-weight: bold; }
        .arrow { font-size: 40px; color: #64748b; font-weight: bold; }
        .target-circle { width: 90px; height: 90px; background: #e11d48; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 32px; font-weight: bold; box-shadow: 0 5px 15px rgba(225, 29, 72, 0.3); }

        .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; max-width: 600px; margin: 20px auto; }
        .option-card { background: #f1f5f9; border: 2px solid #e2e8f0; padding: 20px; font-size: 24px; font-weight: bold; border-radius: 15px; cursor: pointer; transition: 0.2s; color: #334155; }
        .option-card:hover { transform: scale(1.05); background: #3b82f6; color: white; border-color: #2563eb; }
        
        #stats { font-size: 20px; font-weight: bold; margin-bottom: 10px; color: #475569; }
        .diff-select { margin-bottom: 20px; }
        .diff-btn { padding: 8px 16px; margin: 0 5px; cursor: pointer; border-radius: 8px; border: 1px solid #cbd5e1; background: white; font-weight: bold; }
        .diff-btn.active { background: #1e293b; color: white; }
        
        .footer { margin-top: 30px; font-size: 12px; color: #94a3b8; border-top: 1px solid #f1f5f9; padding-top: 15px; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸš€ ÎœÎ±Î¸Î·Î¼Î±Ï„Î¹ÎºÎ­Ï‚ Î”Î¹Î±Î´ÏÎ¿Î¼Î­Ï‚</h1>

    <div class="header-info">
        <div class="box instructions">
            <h3>ğŸ® Î ÏÏ‚ Ï€Î±Î¯Î¶ÎµÏ„Î±Î¹</h3>
            <p>Î”ÎµÏ‚ Ï„Î¿Î½ Ï€ÏÏÏ„Î¿ Î±ÏÎ¹Î¸Î¼ÏŒ ÎºÎ±Î¹ Ï„Î¿Î½ ÏƒÏ„ÏŒÏ‡Î¿. <br>
            Î Î¿Î¹Î± Ï€ÏÎ¬Î¾Î· Î¼Î±Ï‚ Ï€Î¬ÎµÎ¹ Î±Ï€ÏŒ Ï„Î¿ Î­Î½Î± ÏƒÏ„Î¿ Î¬Î»Î»Î¿; <br>
            <b>Î’ÏÎµÏ‚ Ï„Î·Î½ ÎºÎ¬ÏÏ„Î± Î¼Îµ Ï„Î¿ ÏƒÏ‰ÏƒÏ„ÏŒ ÏƒÏÎ¼Î²Î¿Î»Î¿ ÎºÎ±Î¹ Î±ÏÎ¹Î¸Î¼ÏŒ!</b></p>
        </div>
        <div class="box teacher">
            <h3>ğŸ‘¨â€ğŸ« Î•ÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÏŒÏ‚ Î£Ï„ÏŒÏ‡Î¿Ï‚</h3>
            <p>Î‘Î½Î¬Ï€Ï„Ï…Î¾Î· ÎµÏ…ÎµÎ»Î¹Î¾Î¯Î±Ï‚ ÏƒÏ„Î¹Ï‚ 4 Ï€ÏÎ¬Î¾ÎµÎ¹Ï‚ ÎºÎ±Î¹ ÎºÎ±Ï„Î±Î½ÏŒÎ·ÏƒÎ· Ï„Î·Ï‚ ÏƒÏ‡Î­ÏƒÎ·Ï‚ Î¼ÎµÏ„Î±Î¾Ï Ï„Ï‰Î½ Î±ÏÎ¹Î¸Î¼ÏÎ½ ÏƒÏ„Î·Î½ ÎµÎºÎ±Ï„Î¿Î½Ï„Î¬Î´Î±. Î•Î½Î¹ÏƒÏ‡ÏÎµÎ¹ Ï„Î· Î½Î¿ÎµÏÎ® ÎµÏ€Î¯Î»Ï…ÏƒÎ· ÎµÎ¾Î¹ÏƒÏÏƒÎµÏ‰Î½.</p>
        </div>
    </div>

    <div class="diff-select">
        <button class="diff-btn active" id="btn-easy" onclick="setLevel('easy')">Î•ÏÎºÎ¿Î»Î¿ (+/-)</button>
        <button class="diff-btn" id="btn-medium" onclick="setLevel('medium')">ÎœÎ­Ï„ÏÎ¹Î¿ (+/-/*)</button>
        <button class="diff-btn" id="btn-hard" onclick="setLevel('hard')">Î”ÏÏƒÎºÎ¿Î»Î¿ (ÎŒÎ»ÎµÏ‚ Î¿Î¹ Ï€ÏÎ¬Î¾ÎµÎ¹Ï‚)</button>
    </div>

    <div id="stats">Î£ÎºÎ¿Ï: <span id="score">0</span> | Î§ÏÏŒÎ½Î¿Ï‚: <span id="timer">60</span>s</div>

    <div class="mission-box">
        <div class="num-circle" id="start-val">?</div>
        <div class="arrow">â”€â”€ <span id="hint">?</span> â”€â”€></div>
        <div class="target-circle" id="target-val">?</div>
    </div>

    <div class="grid" id="options-grid"></div>

    <div class="footer">
        In-School Teacher Training in Mathematics | 4th Primary School of Nea Artaki<br>
        <b>Papanikolaou Georgios 2026</b>
    </div>
</div>

<script>
    let score = 0;
    let timeLeft = 60;
    let timer;
    let currentLevel = 'easy';
    let correctOp = "";

    function setLevel(lvl) {
        currentLevel = lvl;
        document.querySelectorAll('.diff-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + lvl).classList.add('active');
        initGame();
    }

    function initGame() {
        score = 0;
        timeLeft = 60;
        document.getElementById('score').innerText = score;
        clearInterval(timer);
        timer = setInterval(updateTimer, 1000);
        newRound();
    }

    function newRound() {
        let start = Math.floor(Math.random() * 50) + 1;
        let target, opText, val;
        
        const mode = Math.random();
        
        // Î•Ï€Î¹Î»Î¿Î³Î® Ï€ÏÎ¬Î¾Î·Ï‚ Î²Î¬ÏƒÎµÎ¹ ÎµÏ€Î¹Ï€Î­Î´Î¿Ï…
        let availableOps = ['add', 'sub'];
        if (currentLevel === 'medium') availableOps.push('mul');
        if (currentLevel === 'hard') availableOps.push('mul', 'div');
        
        const chosenOp = availableOps[Math.floor(Math.random() * availableOps.length)];

        switch(chosenOp) {
            case 'add':
                val = Math.floor(Math.random() * 40) + 1;
                target = start + val;
                opText = "+" + val;
                break;
            case 'sub':
                start = Math.floor(Math.random() * 50) + 50;
                val = Math.floor(Math.random() * 40) + 1;
                target = start - val;
                opText = "-" + val;
                break;
            case 'mul':
                start = Math.floor(Math.random() * 10) + 2;
                val = Math.floor(Math.random() * 8) + 2;
                target = start * val;
                opText = "x" + val;
                break;
            case 'div':
                val = Math.floor(Math.random() * 8) + 2;
                target = Math.floor(Math.random() * 10) + 2;
                start = target * val;
                opText = ":" + val;
                break;
        }

        document.getElementById('start-val').innerText = start;
        document.getElementById('target-val').innerText = target;
        correctOp = opText;

        generateOptions(opText);
    }

    function generateOptions(correct) {
        const grid = document.getElementById('options-grid');
        grid.innerHTML = '';
        let options = [correct];

        while(options.length < 12) {
            const symbols = ['+', '-', 'x', ':'];
            const s = symbols[Math.floor(Math.random() * (currentLevel === 'hard' ? 4 : (currentLevel === 'medium' ? 3 : 2)))];
            const v = Math.floor(Math.random() * 30) + 1;
            const fake = s + v;
            if(!options.includes(fake)) options.push(fake);
        }

        options.sort(() => Math.random() - 0.5);

        options.forEach(opt => {
            const div = document.createElement('div');
            div.className = 'option-card';
            div.innerText = opt;
            div.onclick = () => {
                if(opt === correct) {
                    score++;
                    document.getElementById('score').innerText = score;
                    confetti({ particleCount: 30, spread: 60, origin: { y: 0.8 } });
                    newRound();
                } else {
                    div.style.backgroundColor = "#fee2e2";
                    setTimeout(() => div.style.backgroundColor = "#f1f5f9", 300);
                }
            };
            grid.appendChild(div);
        });
    }

    function updateTimer() {
        timeLeft--;
        document.getElementById('timer').innerText = timeLeft;
        if(timeLeft <= 0) {
            clearInterval(timer);
            alert("Î¤Î­Î»Î¿Ï‚ Ï€Î±Î¹Ï‡Î½Î¹Î´Î¹Î¿Ï! Î¤Î¿ ÏƒÎºÎ¿Ï ÏƒÎ¿Ï…: " + score);
            initGame();
        }
    }

    window.onload = initGame;
</script>
</body>
</html>
